<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
"http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="com.reservation.dao.BoardDao">
<insert id= "create">
insert into board(bGroupKind, bName, bTitle, bContent,bGroup) values(#{bGroupKind},bId.nextval,
#{bName},#{bTitle},#{bContent},bId.nextval)
</insert>
<select id="read" resultType="com.reservation.dto.BoardDto">
select * from board where bId =#{bId}
</select>
<update id="update">
update board set bGroupKind=#{bGroupKind},bTitle=#{bTitle},bContent=#{bContent} where bId=#{bId}
</update>
<update id="bHitUpdate">
update board set bHit=bHit+1 where bId=#{bId}
</update>
<update id="bLike">update board set bLike=bLike+1 where bId=#{bId}</update>
<delete id="delete">delete from board where bId=#{bId}</delete>
<select id="listAll" resultType="com.reservation.dto.BoardDto">
<![CDATA[select * from board where bId>0 order by bId desc, bWriteTime desc]]>
</select>
<select id="listMenu" resultType="com.reservation.dto.BoardDto">
<![CDATA[select * from board where bId>0 and bGroupKind=#{bGroupKind} order by bId desc, bWriteTime desc]]>
</select>
<select id="menuKind" resultType="String">
<![CDATA[select distinct bGroupKind from board]]>
</select>
</mapper>